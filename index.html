<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Juego Gamificado del Aula</title>

<style>

body{
font-family:Arial;
background:#f3f4f6;
padding:20px;
}

table{
width:100%;
border-collapse:collapse;
background:white;
margin-bottom:30px;
}

th,td{
padding:8px;
border:1px solid #ddd;
text-align:center;
}

button{
padding:6px 10px;
border:none;
border-radius:6px;
color:white;
cursor:pointer;
font-weight:bold;
}

.dar{background:green;}
.quitar{background:#991b1b;}

.equipos{
display:grid;
grid-template-columns:repeat(3,1fr);
gap:20px;
}

.caja{
background:white;
padding:10px;
border-radius:10px;
box-shadow:0 0 5px #ccc;
}

canvas{
transition:transform 3s ease-out;
}

@media (max-width:768px){
.equipos{
grid-template-columns:1fr;
}
}

</style>
</head>

<body>

<h1>ğŸ® Juego Gamificado del Aula</h1>

<button onclick="resetear()">ğŸ”„ Reiniciar Juego</button>

<!-- RULETA -->

<h2>ğŸ¡ Ruleta de Premios</h2>

<canvas id="ruleta" width="300" height="300"
style="border:8px solid purple;border-radius:50%;background:white;">
</canvas>

<br><br>

<button onclick="girarRuletaVisual()">ğŸ¡ Girar Ruleta</button>

<div id="resultadoRuleta"
style="font-size:22px;font-weight:bold;margin-top:10px;">
</div>

<h3>âœï¸ Editar Premios</h3>

<textarea id="editorPremios" rows="6"
style="width:300px;"></textarea>

<br>

<button onclick="guardarPremios()">ğŸ’¾ Guardar Cambios</button>

<!-- JUEGOS -->

<h2>ğŸ® Juegos Educativos</h2>

<label>Selecciona Estudiante:</label>

<select id="estudianteActivo">
<option value="">-- Elegir --</option>
</select>
let compradorSelect=
document.getElementById("comprador");

estudiantes.forEach((n,i)=>{
compradorSelect.innerHTML+=
`<option value="${i}">${n}</option>`;
});


<br><br>

<button onclick="juegoSumas()">ğŸ§® Sumas</button>
<button onclick="juegoMultiplicar()">âœ–ï¸ Multiplicar</button>
<button onclick="juegoLectura()">ğŸ“– Lectura</button>
<button onclick="juegoQuiz()">â“ Quiz</button>
<button onclick="juegoKahoot()">ğŸ† Kahoot</button>

<div id="areaJuego"
style="margin-top:20px;padding:20px;background:#eee;">
AquÃ­ aparecerÃ¡ el juego
<br><br>

<button onclick="juegoRestas()">â– Restas</button>
<button onclick="juegoDivision()">â— DivisiÃ³n</button>
<button onclick="juegoProblema()">ğŸ§  Problema</button>
<button onclick="juegoMemoria()">ğŸ§© Memoria</button>
<button onclick="juegoVF()">âœ… Verdadero / Falso</button>
<button onclick="juegoTiempo()">â±ï¸ Contra el Tiempo</button>

</div>
<button onclick="megaQuiz()">ğŸ§  Mega Quiz</button>

<!-- ================= TIENDA ================= -->

<h2>ğŸ›’ Tienda de Premios</h2>

<label>Selecciona Estudiante:</label>

<select id="comprador">
<option value="">-- Elegir --</option>
</select>


<br><br>

<div style="display:flex;gap:15px;flex-wrap:wrap;">

<button onclick="comprar(50)">
ğŸ¬ Dulce â€” 50 pts
</button>

<button onclick="comprar(80)">
ğŸ§ Escuchar mÃºsica â€” 80 pts
</button>

<button onclick="comprar(100)">
ğŸ“š Sin tarea â€” 100 pts
</button>

<button onclick="comprar(150)">
ğŸ‰ Recreo extra â€” 150 pts
</button>

<button onclick="comprar(200)">
ğŸ† Premio sorpresa â€” 200 pts
</button>

</div>

<div id="mensajeCompra"
style="margin-top:15px;font-weight:bold;">
</div>

<!-- PODIO -->

<h2>ğŸ† Podio</h2>

<div style="display:flex;gap:20px;">
<div id="primero" style="background:gold;flex:1;"></div>
<div id="segundo" style="background:silver;flex:1;"></div>
<div id="tercero" style="background:#cd7f32;flex:1;"></div>
</div>

<!-- TABLA -->

<h2>ğŸ“‹ Lista General</h2>

<table>
<thead>
<tr>
<th>Estudiante</th>
<th>Puntos</th>
<th>+10</th>
<th>-10</th>
</tr>
</thead>
<tbody id="tabla"></tbody>
</table>
<h2>ğŸ† Podio de Equipos</h2>

<div style="display:flex;gap:20px;margin-bottom:20px;">

<div id="podioEq1"
style="background:gold;flex:1;padding:10px;">
ğŸ¥‡
</div>

<div id="podioEq2"
style="background:silver;flex:1;padding:10px;">
ğŸ¥ˆ
</div>

<div id="podioEq3"
style="background:#cd7f32;flex:1;padding:10px;">
ğŸ¥‰
</div>

</div>

<!-- EQUIPOS -->

<h2>ğŸ“Š Puntos por Equipos</h2>

<table>
<tr><th>Equipo</th><th>Puntos</th></tr>
<tr><td>Equipo 1</td><td id="equipo1">0</td></tr>
<tr><td>Equipo 2</td><td id="equipo2">0</td></tr>
<tr><td>Equipo 3</td><td id="equipo3">0</td></tr>
<tr><td>Equipo 4</td><td id="equipo4">0</td></tr>
<tr><td>Equipo 5</td><td id="equipo5">0</td></tr>
<tr><td>Equipo 6</td><td id="equipo6">0</td></tr>
</table>

<script>

    //////////////////////////////////////////////////
// ğŸ§  MEGA QUIZ
//////////////////////////////////////////////////

let preguntasMega=[

{
p:"Â¿CuÃ¡nto es 6 x 5?",
o:["30","25","35"],
r:0
},

{
p:"Capital de RepÃºblica Dominicana",
o:["Santiago","Santo Domingo","La Vega"],
r:1
},

{
p:"Â¿CuÃ¡nto es 20 Ã· 4?",
o:["5","6","4"],
r:0
},

{
p:"Animal que vuela",
o:["Perro","Ãguila","Gato"],
r:1
},

{
p:"Â¿CuÃ¡nto es 9 x 9?",
o:["81","72","99"],
r:0
}

];

let indiceMega=0;
let puntosMega=0;

function megaQuiz(){

indiceMega=0;
puntosMega=0;
mostrarMega();

}

function mostrarMega(){

let q=preguntasMega[indiceMega];

areaJuego.innerHTML=`
<h3>${q.p}</h3>

<button onclick="respMega(0)">
${q.o[0]}
</button>

<button onclick="respMega(1)">
${q.o[1]}
</button>

<button onclick="respMega(2)">
${q.o[2]}
</button>
`;

}

function respMega(i){

if(i==preguntasMega[indiceMega].r){

puntosMega+=10;
alert("Correcto");

}else{

alert("Incorrecto");

}

indiceMega++;

if(indiceMega<preguntasMega.length){

mostrarMega();

}else{

darPuntos(puntosMega);

areaJuego.innerHTML=`
<h2>Juego terminado</h2>
<h3>Puntos ganados: ${puntosMega}</h3>
`;

}

}


//////////////// ESTUDIANTES //////////////////

let estudiantes=[
"AMELIA REYES MEJIA",
"ANAHIA ROSARIO PRENSA",
"ANAYCHELIN DE JESUS DE LA CRUZ",
"ANDERSON ELIAN PEGUERO MEDINA",
"ANEIRY ARIANNY HICHEZ PEGUERO",
"ANGEL DAVID CONCEPCION CASTILLO",
"ANTHONY MANUEL GONZALEZ DE LA CRUZ",
"ANGELIE ZAPATA MORENO",
"ASAELY PIERRE VEUS",
"NATHALIA GARCIA BRAUNNY",
"BRAYAN EDUARDO FROMETA ARIAS",
"CRISVIEL ENMANUJEL VALERA FAMILIA", 
"DALMIN YARIEL ROSARIO ESTRELLA", 
"EMILY LEYLA ROJAS CASTILLO",
"ENGEL MIGUEL CASTRO DE CENA",
 "ESMERLIN DANIEL HERNANDEZ", 
 "EURY ANTONIO TOLENTINO SENA", 
 "FRANCELIS ELIANDA VENTURA GOMEZ", 
 "FRANCHELIS MARIAN CASTILLO POLANCO", 
 "FRANCHESCA LESLIANNI CONCEPCION", 
 "GREYDER OSCAR FAMILIA GUZMAN", 
 "HECTOR ENRIQUE GUERRERO", 
 "JAIRIELIS DE LA CRUZ", 
 "JAY STE VICENTE MONTERO", 
 "JOSE RAMON BENITEZ", 
 "JUNIELIS YALIA LIRIA RODRIGUEZ", 
 "KIORDY JUNIOR VASQUEZ RODRIGUEZ", 
 "LUIS ANGEL BASORA LEONARDO", 
 "LUIS RAYNIEL LOPEZ MARTINEZ", 
 "MATHEWS SKERLIN GONZALEZ HERNANDEZ", 
 "NAITMARY SANTANA PAYANO",
 "NASHLA ANALIA TORRES CONCEPCION", 
 "OMARKI DE LA CRUZ CORNIELE", 
 "REINY JOSMA SARMIENTOS MARTINEZ", 
"ROSHELSSYS BENITEZ PRENSA", 
"YOMAIRY JIMENEZ MOREY" 
];

const equiposMapa={
    
"AMELIA REYES MEJIA":1,
"ANAHIA ROSARIO PRENSA":2,
"ANAYCHELIN DE JESUS DE LA CRUZ":3,
"ANDERSON ELIAN PEGUERO MEDINA":4,
"ANEIRY ARIANNY HICHEZ PEGUERO":5,
"ANGEL DAVID CONCEPCION CASTILLO":6,
"ANTHONY MANUEL GONZALEZ DE LA CRUZ":6, 
"ANGELIE ZAPATA MORENO":1, 
"ASAELY PIERRE VEUS":2, 
"NATHALIA GARCIA BRAUNNY":1, 
"BRAYAN EDUARDO FROMETA ARIAS":6, 
"CRISVIEL ENMANUJEL VALERA FAMILIA":6, 
"DALMIN YARIEL ROSARIO ESTRELLA":5, 
"EMILY LEYLA ROJAS CASTILLO":4, 
"ENGEL MIGUEL CASTRO DE CENA":4,
 "ESMERLIN DANIEL HERNANDEZ":2, 
 "EURY ANTONIO TOLENTINO SENA":6, 
 "FRANCELIS ELIANDA VENTURA GOMEZ":3, 
 "FRANCHELIS MARIAN CASTILLO POLANCO":4, 
 "FRANCHESCA LESLIANNI CONCEPCION":1, 
 "GREYDER OSCAR FAMILIA GUZMAN":3, 
 "HECTOR ENRIQUE GUERRERO":6, 
 "JAIRIELIS DE LA CRUZ":4, 
 "JAY STE VICENTE MONTERO":1, 
 "JOSE RAMON BENITEZ":5, 
 "JUNIELIS YALIA LIRIA RODRIGUEZ":2, 
 "KIORDY JUNIOR VASQUEZ RODRIGUEZ":6, 
 "LUIS ANGEL BASORA LEONARDO":1, 
 "LUIS RAYNIEL LOPEZ MARTINEZ":4, 
 "MATHEWS SKERLIN GONZALEZ HERNANDEZ":5, 
 "NAITMARY SANTANA PAYANO":2,
 "NASHLA ANALIA TORRES CONCEPCION":3, 
 "OMARKI DE LA CRUZ CORNIELE":4, 
 "REINY JOSMA SARMIENTOS MARTINEZ":5, 
"ROSHELSSYS BENITEZ PRENSA":5, 
"YOMAIRY JIMENEZ MOREY":3 
};
const nombresEquipos={
1:"Equipo 1",
2:"Equipo 2",
3:"Equipo 3",
4:"Equipo 4",
5:"Equipo 5",
6:"Equipo 6"
};

//////////////// TABLA //////////////////

let tabla=document.getElementById("tabla");

estudiantes.forEach(nombre=>{

let fila=document.createElement("tr");

fila.innerHTML=`
<td>${nombre}</td>
<td class="puntos">0</td>
<td><button class="dar" onclick="sumar(this)">+10</button></td>
<td><button class="quitar" onclick="restar(this)">-10</button></td>
`;

tabla.appendChild(fila);

});

//////////////// SELECT //////////////////

let select=document.getElementById("estudianteActivo");

estudiantes.forEach((n,i)=>{
select.innerHTML+=`<option value="${i}">${n}</option>`;
});
//////////////////////////////////////////////////
// LLENAR SELECTOR DE TIENDA
//////////////////////////////////////////////////

let compradorSelect =
document.getElementById("comprador");

estudiantes.forEach((n,i)=>{

compradorSelect.innerHTML +=
`<option value="${i}">${n}</option>`;

});


//////////////// SUMAR //////////////////

function sumar(btn){

let fila=btn.parentElement.parentElement;
let celda=fila.querySelector(".puntos");

celda.textContent=
parseInt(celda.textContent)+10;

actualizarPodio();
actualizarEquipos();

}

function restar(btn){

let fila=btn.parentElement.parentElement;
let celda=fila.querySelector(".puntos");

let p=parseInt(celda.textContent)-10;
if(p<0)p=0;

celda.textContent=p;

actualizarPodio();
actualizarEquipos();

}

//////////////// PODIO //////////////////

function actualizarPodio(){

let datos=[];

document.querySelectorAll("#tabla tr")
.forEach(fila=>{

datos.push({
nombre:fila.children[0].textContent,
puntos:parseInt(
fila.querySelector(".puntos").textContent)
});

});

datos.sort((a,b)=>b.puntos-a.puntos);

if(datos[0])primero.innerHTML="ğŸ¥‡ "+datos[0].nombre;
if(datos[1])segundo.innerHTML="ğŸ¥ˆ "+datos[1].nombre;
if(datos[2])tercero.innerHTML="ğŸ¥‰ "+datos[2].nombre;

}
function actualizarPodioEquipos(){

let datos=[];

for(let i=1;i<=6;i++){

datos.push({
nombre:nombresEquipos[i],
puntos:parseInt(
document.getElementById(
"equipo"+i
).textContent)
});

}

datos.sort((a,b)=>b.puntos-a.puntos);

podioEq1.innerHTML=
"ğŸ¥‡ "+datos[0].nombre+
"<br>"+datos[0].puntos+" pts";

podioEq2.innerHTML=
"ğŸ¥ˆ "+datos[1].nombre+
"<br>"+datos[1].puntos+" pts";

podioEq3.innerHTML=
"ğŸ¥‰ "+datos[2].nombre+
"<br>"+datos[2].puntos+" pts";

}

//////////////// EQUIPOS //////////////////

function actualizarEquipos(){
    

let totales={1:0,2:0,3:0,4:0,5:0,6:0};

document.querySelectorAll("#tabla tr")
.forEach(fila=>{

let nombre=fila.children[0].textContent;
let puntos=parseInt(
fila.querySelector(".puntos").textContent);

let eq=equiposMapa[nombre];
totales[eq]+=puntos;

});

for(let i=1;i<=6;i++){
document.getElementById("equipo"+i)
.textContent=totales[i];

}
actualizarPodioEquipos();

}


//////////////// RULETA //////////////////

let premiosRuleta=[
"+50 puntos",
"Dulce",
"Sin tarea",
"Recreo extra"
];

let canvas=document.getElementById("ruleta");
let ctx=canvas.getContext("2d");

function dibujarRuleta(){

ctx.clearRect(0,0,300,300);

let ang=2*Math.PI/premiosRuleta.length;

for(let i=0;i<premiosRuleta.length;i++){

ctx.beginPath();
ctx.moveTo(150,150);
ctx.arc(150,150,150,
i*ang,(i+1)*ang);
ctx.fillStyle=`hsl(${i*90},70%,60%)`;
ctx.fill();

ctx.save();
ctx.translate(150,150);
ctx.rotate(i*ang+ang/2);
ctx.fillStyle="white";
ctx.fillText(premiosRuleta[i],50,5);
ctx.restore();

}

}

function girarRuletaVisual(){

let grados=
Math.floor(Math.random()*360)+720;

canvas.style.transform=
`rotate(${grados}deg)`;

let premio=
premiosRuleta[
Math.floor(Math.random()*
premiosRuleta.length)
];

setTimeout(()=>{
resultadoRuleta.innerHTML=
"ğŸ‰ Premio: "+premio;
},3000);

}

function guardarPremios(){

let texto=
document.getElementById(
"editorPremios"
).value;

premiosRuleta=
texto.split("\n");

dibujarRuleta();

alert("Guardado");

}

document.getElementById(
"editorPremios"
).value=premiosRuleta.join("\n");

//////////////// JUEGOS //////////////////

function darPuntos(p){

let i=
document.getElementById(
"estudianteActivo"
).value;

if(i===""){
alert("Selecciona estudiante");
return;
}

let fila=
document.querySelectorAll("#tabla tr")[i];

let celda=fila.querySelector(".puntos");

celda.textContent=
parseInt(celda.textContent)+p;

actualizarPodio();
actualizarEquipos();
actualizarPodioEquipos();


}

function juegoSumas(){

let a=Math.floor(Math.random()*10);
let b=Math.floor(Math.random()*10);

areaJuego.innerHTML=`
<h3>${a}+${b}</h3>
<button onclick="darPuntos(10)">
Responder Bien
</button>
`;

}

function juegoMultiplicar(){

let a=3,b=4;

areaJuego.innerHTML=`
<h3>${a} x ${b}</h3>
<button onclick="darPuntos(15)">
Responder Bien
</button>
`;

}

function juegoLectura(){

areaJuego.innerHTML=`
<p>Lee: El perro corre en el parque.</p>
<button onclick="darPuntos(10)">
LeÃ­ correctamente
</button>
`;

}

function juegoQuiz(){

areaJuego.innerHTML=`
<h3>Capital de RD</h3>
<button onclick="darPuntos(10)">
Santo Domingo
</button>
`;

}

//////////////// KAHOOT //////////////////

let preguntasKahoot=[

{
pregunta:"5x4",
opciones:["10","20","15"],
correcta:1
}

];

let actual=0;

function juegoKahoot(){
actual=0;
mostrarK();
}

function mostrarK(){

let p=preguntasKahoot[actual];

areaJuego.innerHTML=`
<h3>${p.pregunta}</h3>
${p.opciones.map((o,i)=>
`<button onclick="respK(${i})">${o}</button>`
).join("")}
`;

}

function respK(i){

if(i==preguntasKahoot[actual].correcta){
darPuntos(20);
alert("Correcto");
}else{
alert("Incorrecto");
}

}

//////////////// RESET //////////////////

function resetear(){
location.reload();
}

dibujarRuleta();

function juegoRestas(){

let a=Math.floor(Math.random()*20)+5;
let b=Math.floor(Math.random()*10);

areaJuego.innerHTML=`
<h3>${a} - ${b}</h3>

<input id="respR">

<button onclick="
if(parseInt(respR.value)==${a-b}){
darPuntos(10);
alert('Correcto');
}else{
alert('Incorrecto');
}">
Responder
</button>
`;

}
function juegoDivision(){

let a=20;
let b=5;

areaJuego.innerHTML=`
<h3>${a} Ã· ${b}</h3>

<input id="respD">

<button onclick="
if(parseInt(respD.value)==${a/b}){
darPuntos(15);
alert('Correcto');
}else{
alert('Incorrecto');
}">
Responder
</button>
`;

}
function juegoProblema(){

areaJuego.innerHTML=`
<h3>
Juan tenÃ­a 10 dulces  
y regalÃ³ 4  
Â¿CuÃ¡ntos le quedan?
</h3>

<input id="respP">

<button onclick="
if(parseInt(respP.value)==6){
darPuntos(20);
alert('Excelente');
}else{
alert('Intenta otra vez');
}">
Responder
</button>
`;

}
function juegoMemoria(){

areaJuego.innerHTML=`
<h3>Memoriza:</h3>
<h1 id="mem">8 x 7</h1>
`;

setTimeout(()=>{

areaJuego.innerHTML=`
<h3>Â¿Resultado?</h3>

<input id="respM">

<button onclick="
if(parseInt(respM.value)==56){
darPuntos(20);
alert('Memoria perfecta');
}else{
alert('Fallaste');
}">
Responder
</button>
`;

},3000);

}
function juegoVF(){

areaJuego.innerHTML=`
<h3>
La bandera dominicana tiene
los colores rojo, azul y blanco
</h3>

<button onclick="darPuntos(10)">
Verdadero
</button>

<button onclick="alert('Incorrecto')">
Falso
</button>
`;

}
function juegoTiempo(){

let tiempo=5;

areaJuego.innerHTML=`
<h3>Resuelve antes que acabe:</h3>
<h2>9 x 9</h2>
<input id="respT">
<p id="cronometro">${tiempo}</p>
`;

let intervalo=setInterval(()=>{

tiempo--;
cronometro.innerHTML=tiempo;

if(tiempo==0){

clearInterval(intervalo);

if(parseInt(respT.value)==81){
darPuntos(30);
alert('Â¡A tiempo!');
}else{
alert('Se acabÃ³ el tiempo');
}

}

},1000);

}
//////////////////////////////////////////////////
// ğŸ›’ TIENDA
//////////////////////////////////////////////////

function comprar(costo){

let i=
document.getElementById(
"comprador"
).value;

if(i===""){
alert("Selecciona estudiante");
return;
}

let fila=
document.querySelectorAll("#tabla tr")[i];

let celda=
fila.querySelector(".puntos");

let puntos=
parseInt(celda.textContent);

if(puntos<costo){

mensajeCompra.innerHTML=
"âŒ No tiene puntos suficientes";

return;

}

// DESCONTAR

celda.textContent=
puntos-costo;

mensajeCompra.innerHTML=
"âœ… Premio comprado";

actualizarPodio();
actualizarEquipos();
podioEquipos?.();

}

</script>



</body>
</html>

